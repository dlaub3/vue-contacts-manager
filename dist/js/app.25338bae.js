(function(e){function t(t){for(var n,a,i=t[0],c=t[1],u=t[2],d=0,l=[];d<i.length;d++)a=i[d],o[a]&&l.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(l.length)l.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var i=r[a];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({search:"search"}[e]||e)+"."+{search:"bd3f83c1"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={search:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise(function(t,r){for(var n="css/"+({search:"search"}[e]||e)+"."+{search:"f862eaf8"}[e]+".css",a=c.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===n||u===a))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],u=i.getAttribute("data-href");if(u===n||u===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var n=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,r(o)},l.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(l)}).then(function(){a[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=s);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),u=function(t){l.onerror=l.onload=null,clearTimeout(m);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,r[1](s)}o[e]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var m=d;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0b97":function(e,t,r){},"0ed4":function(e,t,r){"use strict";var n=r("b2cb"),a=r.n(n);a.a},"1acf":function(e,t,r){"use strict";var n=r("0b97"),a=r.n(n);a.a},2057:function(e,t,r){},2856:function(e,t,r){},"432a":function(e,t,r){},"46f1":function(e,t,r){"use strict";r.d(t,"e",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"f",function(){return l}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return p});r("96cf");var n=r("3040"),a=(r("7514"),r("cadf"),r("551c"),r("097d"),r("9cf8")),o="http://localhost:5000";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n={method:r,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},redirect:"manual",referrer:"client"};return t&&(n.body=JSON.stringify(t)),fetch(e,n).then(function(t){switch(r){case"POST":if([200,201].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"GET":if([200].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"PUT":if([200,201].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"DELETE":if([204].find(function(e){return e===t.status}))return!0;throw new Error("Failed to POST: ".concat(e));default:return t.json()}}).catch(function(e){console.log(e)})}var i=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,o,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2?s[2]:void 0,o=s.length>3&&void 0!==s[3]?s[3]:"",r&&(r=a["c"](r)),e.next=6,n(t,r,o).then(function(e){return e});case 6:return r=e.sent,r=a["b"](r),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=o+"/api/person?".concat(encodeURI(t)),e.next=3,i(r,null,s,"GET");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=o+"/api/person/"+t,e.next=3,i(r,null,s,"GET");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=o+"/api/person",e.next=4,i(n,t,s,"POST");case 4:if(r=e.sent,r.id){e.next=7;break}throw new Error("Failed to POST: ".concat(n));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=o+"/api/person/"+t,e.next=4,i(n,r,s,"PUT");case 4:if(a=e.sent,a.id){e.next=7;break}throw new Error("Failed to PUT: ".concat(n));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=o+"/api/person/"+t,e.next=4,i(n,null,s,"DELETE");case 4:if(r=e.sent,r){e.next=7;break}throw new Error("Failed to DELETE: ".concat(n));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=o+"/api/".concat(t,"/").concat(r),e.next=4,i(a,null,s,"DELETE");case 4:if(n=e.sent,n){e.next=7;break}throw new Error("Failed to DELETE: ".concat(a));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,r){return e.apply(this,arguments)}}()},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",[n("router-link",{attrs:{to:"/"}},[e._v("Add Contact")]),e._v(" |\n      "),n("router-link",{attrs:{to:"/search"}},[e._v("Search Contacts")])],1),n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}})])],1),n("router-view")],1)},o=[],s=(r("5c0b"),r("2877")),i={},c=Object(s["a"])(i,a,o,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=r("8c4f"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("h1",[e._v("Add Contacts")]),r("ContactForm")],1)},m=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"form"}},[r("ModalMessage",{attrs:{active:e.showModal,message:e.modalMessage},on:{closeModal:function(t){e.showModal=!1}}}),r("div",[r("div",{staticClass:"nav"},[r("transition",{attrs:{name:"grow"}},[e.prev?r("button",{on:{click:function(t){e.move("previous")}}},[e._v("Previous")]):e._e()]),r("transition",{attrs:{name:"grow"}},[e.next?r("button",{class:e.next?"focus":"",on:{click:function(t){e.move("next")}}},[e._v(e._s(e.nextText))]):e._e()])],1),r("transition",{attrs:{name:"fade"}},["PersonForm"===e.active?r("div",[r("PersonForm",{attrs:{stateKey:e.stateKey+"person"}})],1):e._e()]),r("transition",{attrs:{name:"fade"}},["EmailAddressForm"===e.active?r("div",[r("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}})],1):e._e()]),r("transition",{attrs:{name:"fade"}},["PhoneNumberForm"===e.active?r("div",[r("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}})],1):e._e()]),r("transition",{attrs:{name:"fade"}},["AddressForm"===e.active?r("div",[r("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}})],1):e._e()]),r("transition",{attrs:{name:"fade"}},["Review"===e.active?r("div",[r("PersonForm",{attrs:{stateKey:e.stateKey+"person"}}),r("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}}),r("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}}),r("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}})],1):e._e()]),r("div",[e.next?e._e():r("button",{staticClass:"focus",on:{click:e.handleSubmit}},[e._v("Submit")])])],1)],1)},f=[],v=(r("96cf"),r("3040")),h=r("c93e"),b=r("2f62"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"modal"}},[e.active?r("div",[r("div",{staticClass:"modal opacity"}),r("div",{staticClass:"modal"},[r("div",{staticClass:"card"},[r("div",{staticClass:"content",domProps:{innerHTML:e._s(e.message)}}),r("button",{on:{click:function(t){e.$emit("closeModal")}}},[e._v("close")])])])]):e._e()])},g=[],_={name:"ModalMessage",props:{active:{type:Boolean,default:!1},message:{type:String,default:""}}},F=_,w=(r("f5de"),Object(s["a"])(F,y,g,!1,null,"b3478f1c",null));w.options.__file="ModalMessage.vue";var x=w.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_name,expression:"form.first_name"}],class:[e.form.first_name?"":"required"],attrs:{placeholder:"First Name",type:"text",autofocus:""},domProps:{value:e.form.first_name},on:{keyup:function(t){e.updateProp({propkey:"contact",value:e.form})},input:function(t){t.target.composing||e.$set(e.form,"first_name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.last_name,expression:"form.last_name"}],class:[e.form.last_name?"":"required"],attrs:{placeholder:"Last Name",type:"text"},domProps:{value:e.form.last_name},on:{input:function(t){t.target.composing||e.$set(e.form,"last_name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_birth,expression:"form.date_of_birth"}],attrs:{placeholder:"Date Of Birth YYYY-MM-DD",type:"text"},domProps:{value:e.form.date_of_birth},on:{keyup:function(t){e.updateProp({propkey:"contact",value:e.form})},input:function(t){t.target.composing||e.$set(e.form,"date_of_birth",t.target.value)}}})])},j=[],k=(r("9c29"),void 0),P={name:"PersonForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(k," missing stateKey"))}}},components:{},computed:Object(h["a"])({},Object(b["d"])({form:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["updateProp"]))},E=P,$=(r("6215"),Object(s["a"])(E,O,j,!1,null,"5025942a",null));$.options.__file="PersonForm.vue";var S=$.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._l(e.forms,function(t){return r("form",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email_address,expression:"form.email_address"}],class:[t.email_address?"":"required"],attrs:{type:"email",placeholder:"Email Address"},domProps:{value:t.email_address},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,email_address:t.email_address,field:"email_address"})},input:function(r){r.target.composing||e.$set(t,"email_address",r.target.value)}}}),r("Select",{class:[t.type_id?"":"required"],attrs:{message:"Select email type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(r){e.updateForm({form:e.stateKey,id:t.id,type_id:r,field:"type_id"})}}}),r("button",{staticClass:"important",on:{click:function(r){e.deleteForm({form:"email_addresses",id:t.id})}}},[e._v("Delete Email Address")])],1)}),r("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Emial Address")])],2)},K=[],N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"selector"}},[r("div",[r("p",{staticClass:"display",on:{click:e.toggle}},[e._v(e._s(e.selected.text||e.message)),r("span",{staticClass:"chevron"},[e._v("«")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"options"},[r("ul",e._l(e.options,function(t){return r("li",{key:t.id,class:[t.id===e.selected.id?"selected":""],on:{click:function(r){e.$emit("option-selected",t.id),e.toggle()}}},[e._v(e._s(t.text))])}))])])},A=[],M=(r("c5f6"),{name:"Select",props:{message:{type:String,default:"Please select an option"},options:{type:Array,default:function(){return console.error("Select missing options."),[]}},selectedOption:{type:Number,default:-1}},computed:{selected:{get:function(){var e=this;return this.options.filter(function(t){return t.id===e.selectedOption})[0]||{}}}},data:function(){return{toggled:!1}},methods:{toggle:function(){this.$data.toggled=!this.$data.toggled}}}),T=M,R=(r("8493"),Object(s["a"])(T,N,A,!1,null,"58b74136",null));R.options.__file="Select.vue";var D=R.exports,q=void 0,z={name:"EmailAddressForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(q," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.email_addresses},options:function(e){return e.types}})),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},L=z,U=(r("db9a"),Object(s["a"])(L,C,K,!1,null,"bfb41028",null));U.options.__file="EmailAddressForm.vue";var B=U.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._l(e.forms,function(t){return r("form",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_number,expression:"form.phone_number"}],class:[t.phone_number?"":"required"],attrs:{type:"tel",placeholder:"Phone Number"},domProps:{value:t.phone_number},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,phone_number:t.phone_number,field:"phone_number"})},input:function(r){r.target.composing||e.$set(t,"phone_number",r.target.value)}}}),r("Select",{class:[t.type_id?"":"required"],attrs:{message:"Select phone type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(r){e.updateForm({form:e.stateKey,id:t.id,type_id:r,field:"type_id"})}}}),r("button",{staticClass:"important",on:{click:function(r){e.deleteForm({form:"phone_numbers",id:t.id})}}},[e._v("Delete Phone Number")])],1)}),r("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Phone Number")])],2)},Y=[],H=void 0,J={name:"PhoneNumberForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(H," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.phone_numbers},options:function(e){return e.types}})),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},V=J,I=(r("698a"),Object(s["a"])(V,G,Y,!1,null,"3c96e5e0",null));I.options.__file="PhoneNumberForm.vue";var Z=I.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._l(e.forms,function(t){return r("form",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.address_1,expression:"form.address_1"}],class:[t.address_1?"":"required"],attrs:{type:"text",placeholder:"Address 1"},domProps:{value:t.address_1},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,address_1:t.address_1,field:"address_1"})},input:function(r){r.target.composing||e.$set(t,"address_1",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.address_2,expression:"form.address_2"}],attrs:{type:"text",placeholder:"Address 2"},domProps:{value:t.address_2},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,address_2:t.address_2,field:"address_2"})},input:function(r){r.target.composing||e.$set(t,"address_2",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"form.city"}],class:[t.city?"":"required"],attrs:{type:"text",placeholder:"City"},domProps:{value:t.city},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,city:t.city,field:"city"})},input:function(r){r.target.composing||e.$set(t,"city",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"form.state"}],class:[t.state?"":"required"],attrs:{type:"text",placeholder:"State"},domProps:{value:t.state},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,state:t.state,field:"state"})},input:function(r){r.target.composing||e.$set(t,"state",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.zip,expression:"form.zip"}],class:[t.zip?"":"required"],attrs:{type:"text",placeholder:"Zip"},domProps:{value:t.zip},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,zip:t.zip,field:"zip"})},input:function(r){r.target.composing||e.$set(t,"zip",r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"form.country"}],class:[t.country?"":"required"],attrs:{type:"text",placeholder:"Country"},domProps:{value:t.country},on:{keyup:function(r){e.updateForm({form:e.stateKey,id:t.id,country:t.country,field:"country"})},input:function(r){r.target.composing||e.$set(t,"country",r.target.value)}}}),r("Select",{class:[t.type_id?"":"required"],attrs:{message:"Select address type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(r){e.updateForm({form:e.stateKey,id:t.id,type_id:r,field:"type_id"})}}}),r("button",{staticClass:"important",on:{click:function(r){e.deleteForm({form:"addresses",id:t.id})}}},[e._v("Delete Address")])],1)}),r("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Address")])],2)},W=[],X=void 0,ee={name:"addressForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(X," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.addresses},options:function(e){return e.types}}),Object(b["c"])([])),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},te=ee,re=(r("0ed4"),Object(s["a"])(te,Q,W,!1,null,"09bd63b8",null));re.options.__file="AddressForm.vue";var ne=re.exports,ae=r("46f1"),oe={name:"ContactForm",props:{},components:{ModalMessage:x,PersonForm:S,EmailAddressForm:B,PhoneNumberForm:Z,AddressForm:ne},data:function(){return{stateKey:"contact.",active:"PersonForm",prev:!1,next:!0,nextText:"Next",showModal:!1,modalMessage:""}},computed:Object(h["a"])({},Object(b["d"])({contact:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["resetForms"]),{handleSubmit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.contact,e.next=3,Object(ae["a"])(t);case 3:r=e.sent,r&&(this.resetForms(),this.$data.active="PersonForm",this.$data.prev=!1,this.$data.next=!0,this.$data.nextText="Next",this.$data.modalMessage='\n            Contact added successfully<br><br>\n            <a href="/#/contact/'.concat(r.id,'">View Contact</a>'),this.$data.showModal=!0),r||(this.$data.showModal=!0,this.$data.modalMessage="There was an error adding your contact, please try again.");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),move:function(e){var t={PersonForm:{previous:null,active:"PersonForm",next:"EmailAddressForm"},EmailAddressForm:{previous:"PersonForm",active:"EmailAddressForm",next:"PhoneNumberForm"},PhoneNumberForm:{previous:"EmailAddressForm",active:"PhoneNumberForm",next:"AddressForm"},AddressForm:{previous:"PhoneNumberForm",active:"AddressForm",next:"Review",nextText:"Review"},Review:{previous:"AddressForm",active:"Review",next:null}},r=this.$data.active,n=t[r][e]||r;this.$data.active=n,this.$data.prev=!!t[n]["previous"],this.$data.next=!!t[n]["next"],this.$data.nextText=t[n]["nextText"]||"Next"}}),watch:{$route:"resetForms"},created:function(){this.resetForms()}},se=oe,ie=(r("9920"),Object(s["a"])(se,p,f,!1,null,"bc60cbfa",null));ie.options.__file="ContactForm.vue";var ce=ie.exports,ue={name:"home",components:{ContactForm:ce}},de=ue,le=Object(s["a"])(de,l,m,!1,null,null,null);le.options.__file="Home.vue";var me=le.exports,pe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Page Not Found :( ")])])}],ve={name:"pageNotFound",created:function(){window.location.href="/#/page-not-found"}},he=ve,be=Object(s["a"])(he,pe,fe,!1,null,null,null);be.options.__file="PageNotFound.vue";var ye=be.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"form"}},[r("ModalMessage",{attrs:{active:e.showModal,message:e.modalMessage},on:{closeModal:function(t){e.showModal=!1}}}),r("h1",[e._v("Contact Details")]),r("PersonForm",{attrs:{stateKey:e.stateKey+"person"}}),r("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}}),r("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}}),r("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}}),r("div",[r("button",{staticClass:"focus",on:{click:e.updateContact}},[e._v("Update")])]),r("div",[r("button",{staticClass:"important",on:{click:e.deleteContact}},[e._v("Delete")])])],1)},_e=[],Fe={name:"Contact",props:{id:{type:String,default:""}},components:{ModalMessage:x,PersonForm:S,EmailAddressForm:B,PhoneNumberForm:Z,AddressForm:ne},data:function(){return{stateKey:"contact.",showModal:!1,modalMessage:""}},computed:Object(h["a"])({},Object(b["c"])(["searchContacts"]),Object(b["d"])({contact:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["resetForms","getContact","linkState","deleteContactData"]),{fetchData:function(){this.getContact(this.$route.params.id)},updateContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ae["f"])(this.contact.id,this.contact);case 2:t=e.sent,t.id?(this.$data.showModal=!0,this.$data.modalMessage="Update successful :)"):(this.$data.showModal=!0,this.$data.modalMessage="Update failed, please try again.");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ae["b"])(this.contact.id);case 2:t=e.sent,t?(this.$router.go(-1),this.deleteContactData(this.contact.id)):(this.$data.showModal=!0,this.$data.modalMessage="Delete failed, please try again.");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),watch:{$route:"fetchData"},created:function(){var e=this.$route.params.id,t=this.searchContacts(e);0!==t.length?(this.linkState({key:"contact",data:t[0]}),console.info("Contact found! 😹")):(console.info("Contact not found, fetching from server 😿"),this.getContact(e))}},we=Fe,xe=(r("1acf"),Object(s["a"])(we,ge,_e,!1,null,"7fa16342",null));xe.options.__file="Contact.vue";var Oe=xe.exports;n["a"].use(d["a"]);var je=new d["a"]({routes:[{path:"/",name:"home",component:me},{path:"/search",name:"search",component:function(){return r.e("search").then(r.bind(null,"2d3b"))}},{path:"/contact/:id",component:Oe},{path:"*",component:ye}]}),ke=r("8afe"),Pe=(r("ac6a"),r("28a5"),r("9cf8"));r("a481");function Ee(e){return e.replace(/es$/,"").replace(/ers$/,"er")}function $e(e){return Ee(e)}n["a"].use(b["a"]);var Se={first_name:"",last_name:"",date_of_birth:"",email_addresses:[{email_address:"",type_id:1}],phone_numbers:[{phone_number:"",type_id:1}],addresses:[{address_1:"",address_2:"",city:"",state:"",country:"",zip:"",type_id:1}]},Ce=new b["a"].Store({state:{types:[{id:1,text:"Primary"},{id:2,text:"Secondary"},{id:3,text:"Home"}],contact:{},data:[],page:1},mutations:{addForm:function(e,t){var r=Ke(t,e),n=r.length+1,a=t.split(".").pop(),o=Se[a][0];o.id=n,r.push(Object(h["a"])({},o))},updateForm:function(e,t){var r=t.id,n=t.form,a=t.field,o=Ke(n,e);o.forEach(function(e){e.id===r&&(e[a]=t[a])})},deleteForm:function(e,t){var r=t.id,n=t.form;e.contact[n]=e.contact[n].filter(function(e){return e.id!==r})},deleteContactData:function(e,t){e.data=e.data.filter(function(e){return e.id!==t})},updateProp:function(e,t){var r=t.propkey,n=t.value;Ke(r,e)},resetForms:function(e){e.contact=Object(Pe["a"])(Se)},setState:function(e,t){var r=t.key,n=t.data;n.constructor===Array?e[r]=Object(ke["a"])(n):n.constructor===Object?e[r]=Object(h["a"])({},n):e[r]=n},linkState:function(e,t){var r=t.key,n=t.data;n.constructor===Array?e[r]=n:(n.constructor,Object,e[r]=n)},appendState:function(e,t){var r=t.key,n=t.data;n instanceof Array?e[r]=Object(ke["a"])(e[r]).concat(Object(ke["a"])(n)):n instanceof Object&&(e[r]=Object(h["a"])({},e[r],n))}},actions:{setState:function(e,t){var r=e.commit;r("setState",t)},linkState:function(e,t){var r=e.commit;r("linkState",t)},appendState:function(e,t){var r=e.commit;r("appendState",t)},addForm:function(e,t){var r=e.commit;r("addForm",t)},deleteForm:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,o,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.getters,o=a.searchForms(r.form,r.id),!o.person_id){e.next=10;break}return s=$e(r.form),e.next=6,Object(ae["c"])(s,o.id);case 6:i=e.sent,i?n("deleteForm",r):console.log("Failed to delete:".concat(o.id)),e.next=11;break;case 10:n("deleteForm",r);case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),deleteContactData:function(e,t){var r=e.commit;r("deleteContactData",t)},updateForm:function(e,t){var r=e.commit;r("updateForm",t)},updateProp:function(e,t){var r=e.commit;r("updateProp",t)},resetForms:function(e){var t=e.commit;t("resetForms")},getContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(ae["d"])(r);case 3:a=e.sent,n("setState",{key:"contact",data:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},getters:{searchContacts:function(e){return function(t){return e.data.filter(function(e){return Number(e.id)===Number(t)})}},searchForms:function(e){return function(t,r){return e.contact[t].filter(function(e){return Number(e.id)===Number(r)})[0]}}}});function Ke(e,t){var r=e.split(".");return r.forEach(function(e){t=t[e]}),t}r("bf3b");n["a"].config.productionTip=!1,new n["a"]({router:je,store:Ce,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("2856"),a=r.n(n);a.a},6215:function(e,t,r){"use strict";var n=r("de6e"),a=r.n(n);a.a},"698a":function(e,t,r){"use strict";var n=r("8266"),a=r.n(n);a.a},"6a1c":function(e,t,r){},"6f1e":function(e,t,r){},8266:function(e,t,r){},8493:function(e,t,r){"use strict";var n=r("2057"),a=r.n(n);a.a},9920:function(e,t,r){"use strict";var n=r("6f1e"),a=r.n(n);a.a},"9c29":function(e,t,r){},"9cf8":function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return c});r("a481"),r("c5f6");function n(e){return"string"===typeof e||e instanceof String}function a(e){return e instanceof Array}function o(e){return e instanceof Object}function s(e){var t={};for(var r in e){var n=e[r];a(n)?t[r]=n.map(function(e){return s(e)}):o(n)?t[r]=s(e):t[r]=n}return t}function i(e){return e=u(e),e=d(e),e}function c(e){return e=l(e),e}function u(e){var t={};for(var r in e){var o=e[r];n(o)?t[r]=o.trim():a(o)?t[r]=o.map(function(e){return u(e)}):t[r]=o}return t}function d(e){var t={};for(var r in e){var n=e[r];"phone_number"===r||"phoneNumber"===r?t[r]=n.replace(/\D/g,""):a(n)?t[r]=n.map(function(e){return d(e)}):t[r]=e[r]}return t}function l(e){var t={};for(var r in e){var n=e[r];"phone_number"===r||"phoneNumber"===r?t[r]=n.replace(/(....)$/,"-$1").replace(/(...-)/,"-$1").replace(/(...-)/,"-$1").replace(/(--)/,"-").replace(/^-/,""):a(n)?t[r]=n.map(function(e){return l(e)}):t[r]=e[r]}return t}},b2cb:function(e,t,r){},bf3b:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"},db9a:function(e,t,r){"use strict";var n=r("6a1c"),a=r.n(n);a.a},de6e:function(e,t,r){},f5de:function(e,t,r){"use strict";var n=r("432a"),a=r.n(n);a.a}});
//# sourceMappingURL=app.25338bae.js.map