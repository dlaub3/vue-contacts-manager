(function(e){function t(t){for(var r,a,i=t[0],c=t[1],u=t[2],d=0,l=[];d<i.length;d++)a=i[d],o[a]&&l.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(l.length)l.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({search:"search"}[e]||e)+"."+{search:"de4d3a31"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={search:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({search:"search"}[e]||e)+"."+{search:"f862eaf8"}[e]+".css",a=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===r||u===a))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],u=i.getAttribute("data-href");if(u===r||u===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.request=r,n(o)},l.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(l)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=s);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}o[e]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var m=d;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b97":function(e,t,n){},"1acf":function(e,t,n){"use strict";var r=n("0b97"),a=n.n(r);a.a},"1d03":function(e,t,n){"use strict";var r=n("2957"),a=n.n(r);a.a},2057:function(e,t,n){},2856:function(e,t,n){},2957:function(e,t,n){},"2d37":function(e,t,n){"use strict";var r=n("81ef"),a=n.n(r);a.a},"432a":function(e,t,n){},"46f1":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return m});n("96cf");var r=n("3040"),a=(n("7514"),n("9cf8")),o="http://localhost:5000";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r={method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},redirect:"manual",referrer:"client"};return t&&(r.body=JSON.stringify(t)),fetch(e,r).then(function(t){switch(n){case"POST":if([200,201].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"GET":if([200].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"PUT":if([200,201].find(function(e){return e===t.status}))return t.json();throw new Error("Failed to POST: ".concat(e));case"DELETE":if([204].find(function(e){return e===t.status}))return!0;throw new Error("Failed to POST: ".concat(e));default:return t.json()}}).catch(function(e){console.log(e)})}var i=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",r=s.length>2?s[2]:void 0,o=s.length>3&&void 0!==s[3]?s[3]:"",n&&(n=a["c"](n)),e.next=6,r(t,n,o).then(function(e){return e});case 6:return n=e.sent,n=a["b"](n),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=o+"/api/person?".concat(encodeURI(t)),e.next=3,i(n,null,s,"GET");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=o+"/api/person/"+t,e.next=3,i(n,null,s,"GET");case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=o+"/api/person",e.next=4,i(r,t,s,"POST");case 4:if(n=e.sent,n.id){e.next=7;break}throw new Error("Failed to POST: ".concat(r));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=o+"/api/person/"+t,e.next=4,i(r,n,s,"PUT");case 4:if(a=e.sent,a.id){e.next=7;break}throw new Error("Failed to PUT: ".concat(r));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=o+"/api/person/"+t,e.next=4,i(r,null,s,"DELETE");case 4:if(n=e.sent,n){e.next=7;break}throw new Error("Failed to DELETE: ".concat(r));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("div",[r("router-link",{attrs:{to:"/"}},[e._v("Add Contact")]),e._v(" |\n      "),r("router-link",{attrs:{to:"/search"}},[e._v("Search Contacts")])],1),r("router-link",{attrs:{to:"/"}},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])],1),r("router-view")],1)},o=[],s=(n("5c0b"),n("2877")),i={},c=Object(s["a"])(i,a,o,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=n("8c4f"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h1",[e._v("Add Contacts")]),n("ContactForm")],1)},m=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"form"}},[n("ModalMessage",{attrs:{active:e.showModal,message:e.modalMessage},on:{closeModal:function(t){e.showModal=!1}}}),n("div",[n("div",{staticClass:"nav"},[n("transition",{attrs:{name:"grow"}},[e.prev?n("button",{on:{click:function(t){e.move("previous")}}},[e._v("Previous")]):e._e()]),n("transition",{attrs:{name:"grow"}},[e.next?n("button",{class:e.next?"focus":"",on:{click:function(t){e.move("next")}}},[e._v(e._s(e.nextText))]):e._e()])],1),n("transition",{attrs:{name:"fade"}},["PersonForm"===e.active?n("div",[n("PersonForm",{attrs:{stateKey:e.stateKey+"person"}})],1):e._e()]),n("transition",{attrs:{name:"fade"}},["EmailAddressForm"===e.active?n("div",[n("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}})],1):e._e()]),n("transition",{attrs:{name:"fade"}},["PhoneNumberForm"===e.active?n("div",[n("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}})],1):e._e()]),n("transition",{attrs:{name:"fade"}},["AddressForm"===e.active?n("div",[n("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}})],1):e._e()]),n("transition",{attrs:{name:"fade"}},["Review"===e.active?n("div",[n("PersonForm",{attrs:{stateKey:e.stateKey+"person"}}),n("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}}),n("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}}),n("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}})],1):e._e()]),n("div",[e.next?e._e():n("button",{staticClass:"focus",on:{click:e.handleSubmit}},[e._v("Submit")])])],1)],1)},f=[],v=(n("96cf"),n("3040")),h=n("c93e"),b=n("2f62"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[e.active?n("div",[n("div",{staticClass:"modal opacity"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"card"},[n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.message)}}),n("button",{on:{click:function(t){e.$emit("closeModal")}}},[e._v("close")])])])]):e._e()])},g=[],_={name:"ModalMessage",props:{active:{type:Boolean,default:!1},message:{type:String,default:""}}},F=_,w=(n("f5de"),Object(s["a"])(F,y,g,!1,null,"b3478f1c",null));w.options.__file="ModalMessage.vue";var x=w.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_name,expression:"form.first_name"}],attrs:{placeholder:"First Name",type:"text",autofocus:"",required:""},domProps:{value:e.form.first_name},on:{keyup:function(t){e.updateProp({propkey:"contact",value:e.form})},input:function(t){t.target.composing||e.$set(e.form,"first_name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.last_name,expression:"form.last_name"}],attrs:{placeholder:"Last Name",type:"text"},domProps:{value:e.form.last_name},on:{input:function(t){t.target.composing||e.$set(e.form,"last_name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_of_birth,expression:"form.date_of_birth"}],attrs:{placeholder:"Date Of Birth",type:"text"},domProps:{value:e.form.date_of_birth},on:{keyup:function(t){e.updateProp({propkey:"contact",value:e.form})},input:function(t){t.target.composing||e.$set(e.form,"date_of_birth",t.target.value)}}})])},j=[],P=(n("9c29"),void 0),k={name:"PersonForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(P," missing stateKey"))}}},components:{},computed:Object(h["a"])({},Object(b["d"])({form:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["updateProp"]))},E=k,$=(n("7cc9"),Object(s["a"])(E,O,j,!1,null,"e952cecc",null));$.options.__file="PersonForm.vue";var S=$.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.forms,function(t){return n("form",{key:t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email_address,expression:"form.email_address"}],attrs:{type:"email",placeholder:"Email Address",required:""},domProps:{value:t.email_address},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,email_address:t.email_address,field:"email_address"})},input:function(n){n.target.composing||e.$set(t,"email_address",n.target.value)}}}),n("Select",{attrs:{message:"Select email type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(n){e.updateForm({form:e.stateKey,id:t.id,type_id:n,field:"type_id"})}}}),n("button",{staticClass:"important",on:{click:function(n){e.deleteForm({form:"email_addresses",id:t.id})}}},[e._v("Delete Email Address")])],1)}),n("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Emial Address")])],2)},K=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"selector"}},[n("div",[n("p",{staticClass:"display",on:{click:e.toggle}},[e._v(e._s(e.selected.text||e.message)),n("span",{staticClass:"chevron"},[e._v("«")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"options"},[n("ul",e._l(e.options,function(t){return n("li",{key:t.id,class:[t.id===e.selected.id?"selected":""],on:{click:function(n){e.$emit("option-selected",t.id),e.toggle()}}},[e._v(e._s(t.text))])}))])])},N=[],M=(n("c5f6"),{name:"Select",props:{message:{type:String,default:"Please select an option"},options:{type:Array,default:function(){return console.error("Select missing options."),[]}},selectedOption:{type:Number,default:-1}},computed:{selected:{get:function(){var e=this;return this.options.filter(function(t){return t.id===e.selectedOption})[0]||{}}}},data:function(){return{toggled:!1}},methods:{toggle:function(){this.$data.toggled=!this.$data.toggled}}}),T=M,R=(n("8493"),Object(s["a"])(T,A,N,!1,null,"58b74136",null));R.options.__file="Select.vue";var D=R.exports,z=void 0,L={name:"EmailAddressForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(z," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.email_addresses},options:function(e){return e.types}})),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},U=L,B=(n("be67"),Object(s["a"])(U,C,K,!1,null,"40bc3e1a",null));B.options.__file="EmailAddressForm.vue";var q=B.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.forms,function(t){return n("form",{key:t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_number,expression:"form.phone_number"}],attrs:{type:"tel",placeholder:"Phone Number",required:""},domProps:{value:t.phone_number},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,phone_number:t.phone_number,field:"phone_number"})},input:function(n){n.target.composing||e.$set(t,"phone_number",n.target.value)}}}),n("Select",{attrs:{message:"Select phone type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(n){e.updateForm({form:e.stateKey,id:t.id,type_id:n,field:"type_id"})}}}),n("button",{staticClass:"important",on:{click:function(n){e.deleteForm({form:"phone_numbers",id:t.id})}}},[e._v("Delete Phone Number")])],1)}),n("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Phone Number")])],2)},H=[],J=void 0,V={name:"PhoneNumberForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(J," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.phone_numbers},options:function(e){return e.types}})),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},I=V,Z=(n("2d37"),Object(s["a"])(I,G,H,!1,null,"03ef1999",null));Z.options.__file="PhoneNumberForm.vue";var Q=Z.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.forms,function(t){return n("form",{key:t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.address_1,expression:"form.address_1"}],attrs:{type:"text",placeholder:"Address 1"},domProps:{value:t.address_1},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,address_1:t.address_1,field:"address_1"})},input:function(n){n.target.composing||e.$set(t,"address_1",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.address_2,expression:"form.address_2"}],attrs:{type:"text",placeholder:"Address 2"},domProps:{value:t.address_2},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,address_2:t.address_2,field:"address_2"})},input:function(n){n.target.composing||e.$set(t,"address_2",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"form.city"}],attrs:{type:"text",placeholder:"City"},domProps:{value:t.city},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,city:t.city,field:"city"})},input:function(n){n.target.composing||e.$set(t,"city",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"form.state"}],attrs:{type:"text",placeholder:"State"},domProps:{value:t.state},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,state:t.state,field:"state"})},input:function(n){n.target.composing||e.$set(t,"state",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.zip,expression:"form.zip"}],attrs:{type:"text",placeholder:"Zip"},domProps:{value:t.zip},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,zip:t.zip,field:"zip"})},input:function(n){n.target.composing||e.$set(t,"zip",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"form.country"}],attrs:{type:"text",placeholder:"Country"},domProps:{value:t.country},on:{keyup:function(n){e.updateForm({form:e.stateKey,id:t.id,country:t.country,field:"country"})},input:function(n){n.target.composing||e.$set(t,"country",n.target.value)}}}),n("Select",{attrs:{message:"Select email type",selectedOption:t.type_id,options:e.options},on:{"option-selected":function(n){e.updateForm({form:e.stateKey,id:t.id,type_id:n,field:"type_id"})}}}),n("button",{staticClass:"important",on:{click:function(n){e.deleteForm({form:"addresses",id:t.id})}}},[e._v("Delete Address")])],1)}),n("button",{on:{click:function(t){e.addForm(e.stateKey)}}},[e._v("Add Address")])],2)},X=[],Y=void 0,ee={name:"addressForm",props:{stateKey:{type:String,default:function(){return console.error("".concat(Y," missing stateKey"))}}},components:{Select:D},computed:Object(h["a"])({},Object(b["d"])({forms:function(e){return e.contact.addresses},options:function(e){return e.types}}),Object(b["c"])([])),methods:Object(h["a"])({},Object(b["b"])(["addForm","updateForm","deleteForm"]))},te=ee,ne=(n("1d03"),Object(s["a"])(te,W,X,!1,null,"295249af",null));ne.options.__file="AddressForm.vue";var re=ne.exports,ae=n("46f1"),oe={name:"ContactForm",props:{},components:{ModalMessage:x,PersonForm:S,EmailAddressForm:q,PhoneNumberForm:Q,AddressForm:re},data:function(){return{stateKey:"contact.",active:"PersonForm",prev:!1,next:!0,nextText:"Next",showModal:!1,modalMessage:""}},computed:Object(h["a"])({},Object(b["d"])({contact:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["resetForms"]),{handleSubmit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.contact,e.next=3,Object(ae["a"])(t);case 3:n=e.sent,n&&(this.resetForms(),this.$data.active="PersonForm",this.$data.prev=!1,this.$data.next=!0,this.$data.nextText="Next",this.$data.modalMessage='\n            Contact added successfully<br><br>\n            <a href="/#/contact/'.concat(n.id,'">View Contact</a>'),this.$data.showModal=!0),n||(this.$data.showModal=!0,this.$data.modalMessage="There was an error adding your contact, please try again.");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),move:function(e){var t={PersonForm:{previous:null,active:"PersonForm",next:"EmailAddressForm"},EmailAddressForm:{previous:"PersonForm",active:"EmailAddressForm",next:"PhoneNumberForm"},PhoneNumberForm:{previous:"EmailAddressForm",active:"PhoneNumberForm",next:"AddressForm"},AddressForm:{previous:"PhoneNumberForm",active:"AddressForm",next:"Review",nextText:"Review"},Review:{previous:"AddressForm",active:"Review",next:null}},n=this.$data.active,r=t[n][e]||n;this.$data.active=r,this.$data.prev=!!t[r]["previous"],this.$data.next=!!t[r]["next"],this.$data.nextText=t[r]["nextText"]||"Next"}}),watch:{$route:"resetForms"},created:function(){this.resetForms()}},se=oe,ie=(n("9920"),Object(s["a"])(se,p,f,!1,null,"bc60cbfa",null));ie.options.__file="ContactForm.vue";var ce=ie.exports,ue={name:"home",components:{ContactForm:ce}},de=ue,le=Object(s["a"])(de,l,m,!1,null,null,null);le.options.__file="Home.vue";var me=le.exports,pe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Page Not Found :( ")])])}],ve={name:"pageNotFound",created:function(){window.location.href="/#/page-not-found"}},he=ve,be=Object(s["a"])(he,pe,fe,!1,null,null,null);be.options.__file="PageNotFound.vue";var ye=be.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"form"}},[n("ModalMessage",{attrs:{active:e.showModal,message:e.modalMessage},on:{closeModal:function(t){e.showModal=!1}}}),n("h1",[e._v("Contact Details")]),n("PersonForm",{attrs:{stateKey:e.stateKey+"person"}}),n("EmailAddressForm",{attrs:{stateKey:e.stateKey+"email_addresses"}}),n("PhoneNumberForm",{attrs:{stateKey:e.stateKey+"phone_numbers"}}),n("AddressForm",{attrs:{stateKey:e.stateKey+"addresses"}}),n("div",[n("button",{staticClass:"focus",on:{click:e.updateContact}},[e._v("Update")])]),n("div",[n("button",{staticClass:"important",on:{click:e.deleteContact}},[e._v("Delete")])])],1)},_e=[],Fe={name:"Contact",props:{id:{type:String,default:""}},components:{ModalMessage:x,PersonForm:S,EmailAddressForm:q,PhoneNumberForm:Q,AddressForm:re},data:function(){return{stateKey:"contact.",showModal:!1,modalMessage:""}},computed:Object(h["a"])({},Object(b["c"])(["searchContacts"]),Object(b["d"])({contact:function(e){return e.contact}})),methods:Object(h["a"])({},Object(b["b"])(["resetForms","getContact","linkState","deleteContactData"]),{fetchData:function(){this.getContact(this.$route.params.id)},updateContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ae["e"])(this.contact.id,this.contact);case 2:t=e.sent,t.id?(this.$data.showModal=!0,this.$data.modalMessage="Update successful :)"):(this.$data.showModal=!0,this.$data.modalMessage="Update failed, please try again.");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ae["b"])(this.contact.id);case 2:t=e.sent,t?(this.$router.go(-1),this.deleteContactData(this.contact.id)):(this.$data.showModal=!0,this.$data.modalMessage="Delete failed, please try again.");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),watch:{$route:"fetchData"},created:function(){var e=this.$route.params.id,t=this.searchContacts(e);0!==t.length?(this.linkState({key:"contact",data:t[0]}),console.info("Contact found! 😹")):(console.info("Contact not found, fetching from server 😿"),this.getContact(e))}},we=Fe,xe=(n("1acf"),Object(s["a"])(we,ge,_e,!1,null,"7fa16342",null));xe.options.__file="Contact.vue";var Oe=xe.exports;r["a"].use(d["a"]);var je=new d["a"]({routes:[{path:"/",name:"home",component:me},{path:"/search",name:"search",component:function(){return n.e("search").then(n.bind(null,"2d3b"))}},{path:"/contact/:id",component:Oe},{path:"*",component:ye}]}),Pe=n("8afe"),ke=(n("ac6a"),n("28a5"),n("9cf8"));r["a"].use(b["a"]);var Ee={first_name:"",last_name:"",date_of_birth:"",email_addresses:[{email_address:"",type_id:-1}],phone_numbers:[{phone_number:"",type_id:-1}],addresses:[{address_1:"",address_2:"",city:"",state:"",country:"",zip:"",type_id:-1}]},$e=new b["a"].Store({state:{types:[{id:1,text:"Primary"},{id:2,text:"Secondary"},{id:3,text:"Home"}],contact:{},data:[],page:1},mutations:{addForm:function(e,t){var n=Se(t,e),r=n.length+1,a=t.split(".").pop(),o=Ee[a][0];o.id=r,n.push(Object(h["a"])({},o))},updateForm:function(e,t){var n=t.id,r=t.form,a=t.field,o=Se(r,e);o.forEach(function(e){e.id===n&&(e[a]=t[a])})},deleteForm:function(e,t){var n=t.id,r=t.form;e.contact[r]=e.contact[r].filter(function(e){return e.id!==n})},deleteContactData:function(e,t){e.data=e.data.filter(function(e){return e.id!==t})},updateProp:function(e,t){var n=t.propkey,r=t.value;Se(n,e)},resetForms:function(e){e.contact=Object(ke["a"])(Ee)},setState:function(e,t){var n=t.key,r=t.data;r.constructor===Array?e[n]=Object(Pe["a"])(r):r.constructor===Object?e[n]=Object(h["a"])({},r):e[n]=r},linkState:function(e,t){var n=t.key,r=t.data;r.constructor===Array?e[n]=r:(r.constructor,Object,e[n]=r)},appendState:function(e,t){var n=t.key,r=t.data;r instanceof Array?e[n]=Object(Pe["a"])(e[n]).concat(Object(Pe["a"])(r)):r instanceof Object&&(e[n]=Object(h["a"])({},e[n],r))}},actions:{setState:function(e,t){var n=e.commit;n("setState",t)},linkState:function(e,t){var n=e.commit;n("linkState",t)},appendState:function(e,t){var n=e.commit;n("appendState",t)},addForm:function(e,t){var n=e.commit;n("addForm",t)},deleteForm:function(e,t){var n=e.commit;n("deleteForm",t)},deleteContactData:function(e,t){var n=e.commit;n("deleteContactData",t)},updateForm:function(e,t){var n=e.commit;n("updateForm",t)},updateProp:function(e,t){var n=e.commit;n("updateProp",t)},resetForms:function(e){var t=e.commit;t("resetForms")},getContact:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(ae["c"])(n);case 3:a=e.sent,r("setState",{key:"contact",data:a});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},getters:{searchContacts:function(e){return function(t){return e.data.filter(function(e){return Number(e.id)===Number(t)})}}}});function Se(e,t){var n=e.split(".");return n.forEach(function(e){t=t[e]}),t}n("bf3b");r["a"].config.productionTip=!1,new r["a"]({router:je,store:$e,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("2856"),a=n.n(r);a.a},"6f1e":function(e,t,n){},"79ee":function(e,t,n){},"7cc9":function(e,t,n){"use strict";var r=n("d768"),a=n.n(r);a.a},"81ef":function(e,t,n){},8493:function(e,t,n){"use strict";var r=n("2057"),a=n.n(r);a.a},9920:function(e,t,n){"use strict";var r=n("6f1e"),a=n.n(r);a.a},"9c29":function(e,t,n){},"9cf8":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c});n("a481"),n("c5f6");function r(e){return"string"===typeof e||e instanceof String}function a(e){return e instanceof Array}function o(e){return e instanceof Object}function s(e){var t={};for(var n in e){var r=e[n];a(r)?t[n]=r.map(function(e){return s(e)}):o(r)?t[n]=s(e):t[n]=r}return t}function i(e){return e=u(e),e=d(e),e}function c(e){return e=l(e),e}function u(e){var t={};for(var n in e){var o=e[n];r(o)?t[n]=o.trim():a(o)?t[n]=o.map(function(e){return u(e)}):t[n]=o}return t}function d(e){var t={};for(var n in e){var r=e[n];"phone_number"===n||"phoneNumber"===n?t[n]=r.replace(/\D/g,""):a(r)?t[n]=r.map(function(e){return d(e)}):t[n]=e[n]}return t}function l(e){var t={};for(var n in e){var r=e[n];"phone_number"===n||"phoneNumber"===n?t[n]=r.replace(/(....)$/,"-$1").replace(/(...-)/,"-$1").replace(/(...-)/,"-$1").replace(/(--)/,"-").replace(/^-/,""):a(r)?t[n]=r.map(function(e){return l(e)}):t[n]=e[n]}return t}},be67:function(e,t,n){"use strict";var r=n("79ee"),a=n.n(r);a.a},bf3b:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d768:function(e,t,n){},f5de:function(e,t,n){"use strict";var r=n("432a"),a=n.n(r);a.a}});
//# sourceMappingURL=app.019696bc.js.map